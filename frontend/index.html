<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login • PDF Editor</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/styles.css" />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" type="image/png" href="/icons/icon-192.png" />
    <link rel="apple-touch-icon" href="/icons/icon-192.png" />

    <meta name="theme-color" content="#0d6efd" />
  </head>
  <body class="d-flex align-items-center justify-content-center min-vh-100">
    <div class="card login-card shadow-lg p-4 col-11 col-sm-8 col-md-6 col-lg-4">
      <!-- Logo ou título -->
      <div class="text-center mb-4">
        <i class="bi bi-file-earmark-text-fill fs-1 text-primary"></i>
        <h4 class="brand-title mt-2">PDF Editor</h4>
        <p class="text-muted small mb-0">Acesse sua conta para continuar</p>
      </div>

      <form id="loginForm">
        <div class="mb-3">
          <label for="email" class="form-label">E-mail</label>
          <input type="email" id="email" class="form-control" placeholder="Digite seu e-mail" required autocomplete="email" />
        </div>
        <div class="mb-3">
          <label for="senha" class="form-label">Senha</label>
          <input type="password" id="senha" class="form-control" placeholder="Digite sua senha" required autocomplete="current-password" />
        </div>
        <button type="submit" class="btn btn-primary w-100">Entrar</button>

        <button type="button" class="btn btn-outline-success w-100 mt-2 d-flex align-items-center justify-content-center" onclick="loginWithGoogle()">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="me-2" alt="Google logo" width="20" height="20" />
          <span class="fw-semibold">Entrar com Google</span>
        </button>
      </form>

      <!-- Links abaixo do form -->
      <div class="mt-3 text-center">
        <a href="register.html" class="text-decoration-none">Criar conta</a>
        ·
        <a href="reset.html" class="text-decoration-none">Esqueci a senha</a>
      </div>

      <p id="loginMessage" class="text-center mt-2 text-danger"></p>
    </div>

    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .register('service-worker.js')
          .then(() => console.log('Service Worker registrado com sucesso'))
          .catch((err) => console.error('Erro ao registrar SW:', err));
      }
    </script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
  </body>
</html>
