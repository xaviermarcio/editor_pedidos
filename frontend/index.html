<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editor de Pedidos</title>

  <!-- Manifest e cor do tema -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#0d6efd">


  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600&family=Poppins:wght@400;500&display=swap" rel="stylesheet">

  <!-- Estilos customizados -->
  <link rel="stylesheet" href="./css/styles.css">
</head>
<body class="bg-light">

<div class="container py-4">

  <!-- Topo -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="text-primary">ðŸ›’ Editor de Pedidos</h2>
    <button class="btn btn-danger btn-sm" onclick="logout()">Sair</button>
  </div>

  <!-- Card Ãºnico -->
  <div class="card shadow-sm p-4">
    <!-- Upload -->
    <h5 class="card-title">Carregar PDF</h5>
   <div class="input-group mb-4">
  <input type="file" id="pdfFile" class="form-control" accept="application/pdf">

  <!-- BotÃ£o com spinner embutido -->
  <button id="btnUpload" class="btn btn-primary" onclick="uploadPDF()">
    <span id="btnUploadText">Carregar</span>
    <span id="btnUploadSpinner" class="spinner-border spinner-border-sm ms-2" 
          style="display:none;" role="status" aria-hidden="true"></span>
  </button>
</div>

    <!-- Loading -->
    <div id="loading" class="text-center mb-3" style="display: none;">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Carregando...</span>
      </div>
      <p class="mt-2">Processando PDF...</p>
    </div>

    <!-- Lista -->
    <h5 class="card-title">Itens encontrados</h5>
    <div id="itens" class="mb-4"></div>

    <!-- BotÃ£o gerar PDF -->
    <div class="d-grid">
      <button id="btnSalvar" class="btn btn-success btn-lg" onclick="gerarPedido()">ðŸ’¾ Salvar PDF Final</button>
    </div>
  </div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="./js/firebase-config.js"></script>
<script src="./js/app.js"></script>
<script src="./js/auth.js"></script>

<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/service-worker.js")
      .then(() => console.log("Service Worker registrado"))
      .catch(err => console.error("Erro no SW:", err));
  }
</script>



</body>
</html>
